<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sierpinski - Joshua Burt</title>
</head>
<body>

<canvas id="canvas" width="500" height="500"></canvas>

<script>
    let canvas = document.querySelector("#canvas");
    let ctx = canvas.getContext("2d");
    let numberOfDots = 2000;

    let points = [];

    setup()

    ctx.canvas.width  = window.innerWidth;
    ctx.canvas.height = window.innerHeight;

    for(let i = 0; i < numberOfDots; i++) {
        let number1 = Math.round(Math.random() * 2);
        let number2 = Math.round(Math.random() * (points.length-1));

        while(number1 === number2) {
            number2 = Math.round(Math.random() * (points.length-1));
        }

        let randomPoint1 = points[number1];
        let randomPoint2 = points[number2];


        let mid = midpoint(randomPoint1, randomPoint2)


        let x = mid[0];
        let y = mid[1];

        points.push([x,y]);
    }


    function setup() {
        // Setup first 3 points
        // Top Middle
        points.push([ctx.canvas.width / 2, 100])

        // Bottom Left
        points.push([400, ctx.canvas.height - 130])

        // Bottom Right
        points.push([ctx.canvas.width - 400, ctx.canvas.height - 130])
    }

    function midpoint(p1, p2) {
        return [(p1[0] + p2[0])/2, (p1[1] + p2[1])/2];
    }

    for(let i = 0; i < points.length; i++) {
        drawPoint(points[i][0], points[i][1])
    }


    function drawPoint(x,y) {
        ctx.fillRect(x-1,y-1,3,3);
    }
</script>
</body>
</html>